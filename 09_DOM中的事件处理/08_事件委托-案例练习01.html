<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<style>
    .active {
        color: red;
        font-size: 20px;
        background-color: orange;
    }
</style>

<body>
    <ul>
        <li>1</li>
        <li>2</li>
        <li>3</li>
        <li>4</li>
        <li>5</li>
        <li>6</li>
        <li>7</li>
        <li>8</li>
        <li>9</li>
        <li>10 </li>
    </ul>
</body>
<script>


//练习
    var liEls = document.querySelectorAll("li")
    for (var liEl of liEls){
        liEl.onclick = function (event) {
    //    this.classList.add("active")
       event.currentTarget.classList.add("active")
    }
    }
    
    //1.每个li都监听自己的点击，并且有自己的处理函数（自己的函数）
    // var liEls = document.querySelectorAll("li")
    // for (var liEl of liEls) {
    //     //监听点击
    //     liEl.onclick = function (event) {
    //         // liEl.classList.add("active") for循环结束后指针指向最后一个元素 不可以
    //         // this.classList.add("active") this 永远指向当前对象 可以
    //         event.currentTarget.classList.add("active") //for循环 创建10个函数
    //     }
    // }

    //2.统一在ul中进行监听
    // var ulEl = document.querySelector("ul")

    // ulEl.onclick = function (event) {    //传入event.target
    //     console.log("点击了某个li~",event.target);
    //     event.target.classList.add("active")
    // }

    //3.新需求：点击li变成active,其他的取消 active

    // var ulEl = document.querySelector("ul")
    // var activeLiEl = null
    // ulEl.onclick = function (event) {

        //1.将之前的active移除掉
        // for (var i = 0; i < ulEl.children.length; i++) {
        //     var liEl = ulEl.children[i]
        //     if(liEl.classList.contains("active")){
        //         liEl.classList.remove("active")
        //     }
        // //     ulEl.children[i].classList.remove("active")
        // }
        //2.给点击的元素添加active
        // event.target.classList.add("active")
        //2.新思路,找到active的i，移除掉active
    //     var activeLiEl = ulEl.querySelector(".active")
    //     // if (activeLiEl) {
    //     //     activeLiEl.classList.remove("active")
    //     // }
    //     // 3.变量记录的方式
    //     if (activeLiEl && event.target !== ulEl) { //activeLiEl && event.target.tagName === 'Li
    //         activeLiEl.classList.remove("active")
    //     }
    //     // 给点击的元素添加active
    //     if(event.target !== ulEl){  //event.target.tagName === 'Li'
    //         event.target.classList.add("active")
    //     }
    //     //保存最新的active的li
    //     activeLiEl = event.target
    // }

</script>

</html>